jQuery&&function(a){a.extend(a.fn,{fileTree:function(b,l,m){b||(b={});void 0==b.root&&(b.root="/");void 0==b.script&&(b.script="jqueryFileTree.php");void 0==b.folderEvent&&(b.folderEvent="click");void 0==b.expandSpeed&&(b.expandSpeed=0);void 0==b.collapseSpeed&&(b.collapseSpeed=0);void 0==b.expandEasing&&(b.expandEasing=null);void 0==b.collapseEasing&&(b.collapseEasing=null);void 0==b.multiFolder&&(b.multiFolder=!0);void 0==b.loadMessage&&(b.loadMessage="Loading...");a(this).each(function(){function h(c,
e){a(c).addClass("wait");a(".jqueryFileTree.start").remove();"function"==typeof b.script?data=b.script(e,function(d){a(c).find(".start").html("");a(c).removeClass("wait").append(d);b.root==e?a(c).find("UL:hidden").show():a(c).find("UL:hidden").slideDown({duration:b.expandSpeed,easing:b.expandEasing});f(c)}):a.post(b.script,{dir:e},function(d){a(c).find(".start").html("");a(c).removeClass("wait").append(d);b.root==e?a(c).find("UL:hidden").show():a(c).find("UL:hidden").slideDown({duration:b.expandSpeed,
easing:b.expandEasing});f(c)})}function f(c){a(c).find("LI A").bind(b.folderEvent,function(c){if(a(this).parent().hasClass("directory"))if(a(this).parent().hasClass("collapsed")){b.multiFolder||(a(this).parent().parent().find("UL").slideUp({duration:b.collapseSpeed,easing:b.collapseEasing}),a(this).parent().parent().find("LI.directory").removeClass("expanded").addClass("collapsed"));a(this).parent().find("UL").remove();"function"==typeof b.script?h(a(this).parent(),a(this).attr("rel")):h(a(this).parent(),
escape(a(this).attr("rel").match(/.*\//)));a(this).parent().removeClass("collapsed").addClass("expanded");try{m(a(this).attr("rel"))}catch(d){alert(d)}}else a(this).parent().find("UL").slideUp({duration:b.collapseSpeed,easing:b.collapseEasing}),a(this).parent().removeClass("expanded").addClass("collapsed");else{if(c.shiftKey){var g=!1,k=!1,f=a(this).attr("rel");a(this).parent().parent().find("A").each(function(b){k&&g?a(this).removeClass("selected"):(a(this).attr("rel")===f?k=!0:a(this).hasClass("selected")&&
!g&&(g=!0),(g||k)&&a(this).addClass("selected"))})}else c.ctrlKey?a(this).toggleClass("selected"):(c=a(this).hasClass("selected"),a(this).parent().parent().find("A").removeClass("selected"),!1===c&&a(this).addClass("selected"));l(a(this).attr("rel"))}return!1});"click"!=b.folderEvent.toLowerCase&&a(c).find("LI A").bind("click",function(){return!1})}a(this).html('<ul class="jqueryFileTree start"><li class="wait">'+b.loadMessage+"<li></ul>");h(a(this),escape(b.root))})}})}(jQuery);
