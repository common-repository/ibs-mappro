function decimalAdjust(a,b,c){if("undefined"===typeof c||0===+c)return Math[a](b);b=+b;c=+c;if(isNaN(b)||"number"!==typeof c||0!==c%1)return NaN;b=b.toString().split("e");b=Math[a](+(b[0]+"e"+(b[1]?+b[1]-c:-c)));b=b.toString().split("e");return+(b[0]+"e"+(b[1]?+b[1]+c:c))}Math.round10||(Math.round10=function(a,b){return decimalAdjust("round",a,b)});Math.floor10||(Math.floor10=function(a,b){return decimalAdjust("floor",a,b)});Math.ceil10||(Math.ceil10=function(a,b){return decimalAdjust("ceil",a,b)});
function siteUrl(){var a=jQuery.url(jQuery(location).attr("href")).attr("file");return jQuery(location).attr("href").split(a)[0]}function getUriQuery(){var a={},b=jQuery.url(jQuery(location).attr("href")).attr("query");if(b){var b=b.split("&"),c;for(c in b){var d=b[c].split("=");a[d[0]]=d[1]}}return a}function removeHtmlStr(a){return jQuery("<div>").html(a).text()}
function padLeftStr(a,b,c){"string"!==typeof a&&(a=a.toString());"undefined"===typeof b&&(b=8);"undefined"===typeof c&&(c=" ");return a.length<b?padLeftStr(c+a,b,c):a}function padRightStr(a,b,c){"string"!==typeof a&&(a=a.toString());"undefined"===typeof b&&(b=8);"undefined"===typeof c&&(c=" ");return a.length<b?padRightStr(a+c,b,c):a}function hex(a){var b="0123456789abcdef".split("");return isNaN(a)?"00":b[(a-a%16)/16]+b[a%16]}
function isUrl(a){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(a)}function rgb2hex(a){if("undefined"==typeof a)return null;var b=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return b?"#"+hex(b[1])+hex(b[2])+hex(b[3]):a}
function setCurrentColor(a){var b=a.find(".ibs-line-attr").find(".ibs-colorpicker-trigger").css("background-color");a.find(".ibs-colorpicker-picker-span").each(function(a,d){b===jQuery(d).css("background-color")?jQuery(d).addClass("active"):jQuery(d).removeClass("active")})}function getExtension(a){if("string"===typeof a&&3<a.length){var b=a.lastIndexOf(".");if(-1!==b)return a.substring(b+1)}return!1}
function getDirname(a){var b=a.lastIndexOf("/");a=a.substring(0,b);b=a.lastIndexOf("/");return a=a.substring(b+1)}function getFilename(a){var b=a.lastIndexOf("/");-1<b&&(a=a.substring(b+1));b=a.lastIndexOf(".");return-1!==b?a.substring(0,b):a}function spin(a){a?jQuery("body").addClass("wait"):jQuery("body").removeClass("wait")}function midPoint(a,b){return new google.maps.LatLng(b.lat()-.5*(b.lat()-a.lat()),b.lng()-.5*(b.lng()-a.lng()))}
function distanceFrom(a,b){try{return google.maps.geometry.spherical.computeDistanceBetween(a,b)}catch(c){return 0}}function pathLength(a){try{return google.maps.geometry.spherical.computeLength(a)}catch(b){return 0}}function cleanDescription(a){u=a.replace("<![CDATA[","").replace("]]\x3e","");u=u.replace(/\&amp;/g,"&");u=u.replace(/\&lt;/g,"<");u=u.replace(/\&quot;/g,'"');u=u.replace(/\&apos;/g,"'");return u=u.replace(/\&gt;/g,">")}
function getCDATA(a){return"string"===typeof a?(u=a.replace("<![CDATA[","").replace("]]\x3e",""),u=u.replace(/\&amp;/g,"&"),u=u.replace(/\&lt;/g,"<"),u=u.replace(/\&quot;/g,'"'),u=u.replace(/\&apos;/g,"'"),u=u.replace(/\&gt;/g,">")):""}function dechex(a){0>a&&(a=4294967295+a+1);return parseInt(a,10).toString(16)}function colorKML(a,b){"rgb"===b.substr(0,3)&&(b=rgb2hex(b));var c=Math.ceil(255*a),c=dechex(c),d=b.substr(1,2),e=b.substr(3,2),g=b.substr(5,2);return c+g+e+d}
Date.prototype.toISOString||function(){function a(a){a=String(a);1===a.length&&(a="0"+a);return a}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}}();
function utf8_encode(a){if(null===a||"undefined"===typeof a)return"";a+="";var b="",c,d,e=0;c=d=0;for(var e=a.length,g=0;g<e;g++){var f=a.charCodeAt(g),m=null;if(128>f)d++;else if(127<f&&2048>f)m=String.fromCharCode(f>>6|192,f&63|128);else if(f&1)m=String.fromCharCode(f>>12|224,f>>6&63|128,f&63|128);else{if(f&1)throw new RangeError("Unmatched trail surrogate at "+g);m=a.charCodeAt(++g);if(m&1)throw new RangeError("Unmatched lead surrogate at "+(g-1));f=((f&1023)<<10)+(m&1023)+65536;m=String.fromCharCode(f>>
18|240,f>>12&63|128,f>>6&63|128,f&63|128)}null!==m&&(d>c&&(b+=a.slice(c,d)),b+=m,c=d=g+1)}d>c&&(b+=a.slice(c,e));return b}
function sha1(a){var b=function(a,b){return a<<b|a>>>32-b},c=function(a){var b="",c,d;for(c=7;0<=c;c--)d=a>>>4*c&15,b+=d.toString(16);return b},d,e,g=Array(80),f=1732584193,m=4023233417,q=2562383102,w=271733878,x=3285377520,h,l,p,r,k;a=this.utf8_encode(a);h=a.length;var n=[];for(d=0;d<h-3;d+=4)e=a.charCodeAt(d)<<24|a.charCodeAt(d+1)<<16|a.charCodeAt(d+2)<<8|a.charCodeAt(d+3),n.push(e);switch(h%4){case 0:d=2147483648;break;case 1:d=a.charCodeAt(h-1)<<24|8388608;break;case 2:d=a.charCodeAt(h-2)<<24|
a.charCodeAt(h-1)<<16|32768;break;case 3:d=a.charCodeAt(h-3)<<24|a.charCodeAt(h-2)<<16|a.charCodeAt(h-1)<<8|128}for(n.push(d);14!=n.length%16;)n.push(0);n.push(h>>>29);n.push(h<<3&4294967295);for(a=0;a<n.length;a+=16){for(d=0;16>d;d++)g[d]=n[a+d];for(d=16;79>=d;d++)g[d]=b(g[d-3]^g[d-8]^g[d-14]^g[d-16],1);e=f;h=m;l=q;p=w;r=x;for(d=0;19>=d;d++)k=b(e,5)+(h&l|~h&p)+r+g[d]+1518500249&4294967295,r=p,p=l,l=b(h,30),h=e,e=k;for(d=20;39>=d;d++)k=b(e,5)+(h^l^p)+r+g[d]+1859775393&4294967295,r=p,p=l,l=b(h,30),
h=e,e=k;for(d=40;59>=d;d++)k=b(e,5)+(h&l|h&p|l&p)+r+g[d]+2400959708&4294967295,r=p,p=l,l=b(h,30),h=e,e=k;for(d=60;79>=d;d++)k=b(e,5)+(h^l^p)+r+g[d]+3395469782&4294967295,r=p,p=l,l=b(h,30),h=e,e=k;f=f+e&4294967295;m=m+h&4294967295;q=q+l&4294967295;w=w+p&4294967295;x=x+r&4294967295}k=c(f)+c(m)+c(q)+c(w)+c(x);return k.toLowerCase()}function initialCapsX(a){return a.toLowerCase().replace(/\b[a-z]/g,function(a){return a.toUpperCase()})}
function initialCaps(a){return a.toLowerCase().replace(/^[\u00C0-\u1FFF\u2C00-\uD7FF\w]|\s[\u00C0-\u1FFF\u2C00-\uD7FF\w]/g,function(a){return a.toUpperCase()})}
(function(a){"function"===typeof define&&define.amd?define(a):window.purl=a()})(function(){function a(a,b){for(var c=decodeURI(a),c=x[b?"strict":"loose"].exec(c),k={attr:{},param:{},seg:{}},e=14;e--;)k.attr[q[e]]=c[e]||"";k.param.query=d(k.attr.query);k.param.fragment=d(k.attr.fragment);k.seg.path=k.attr.path.replace(/^\/+|\/+$/g,"").split("/");k.seg.fragment=k.attr.fragment.replace(/^\/+|\/+$/g,"").split("/");k.attr.base=k.attr.host?(k.attr.protocol?k.attr.protocol+"://"+k.attr.host:k.attr.host)+
(k.attr.port?":"+k.attr.port:""):"";return k}function b(a){a=a.tagName;return"undefined"!==typeof a?m[a.toLowerCase()]:a}function c(a,b,d,e){var n=a.shift();if(n){var t=b[d]=b[d]||[];if("]"==n)if(g(t))""!==e&&t.push(e);else if("object"==typeof t){b=a=t;d=[];for(var f in b)b.hasOwnProperty(f)&&d.push(f);a[d.length]=e}else b[d]=[b[d],e];else{~n.indexOf("]")&&(n=n.substr(0,n.length-1));if(!h.test(n)&&g(t))if(0===b[d].length)t=b[d]={};else{f={};for(var m in b[d])f[m]=b[d][m];t=b[d]=f}c(a,t,n,e)}}else g(b[d])?
b[d].push(e):b[d]="object"==typeof b[d]?e:"undefined"==typeof b[d]?e:[b[d],e]}function d(a){return e(String(a).split(/&|;/),function(a,b){try{b=decodeURIComponent(b.replace(/\+/g," "))}catch(d){}var e=b.indexOf("="),f;a:{for(var l=b.length,m,q=0;q<l;++q)if(m=b[q],"]"==m&&(f=!1),"["==m&&(f=!0),"="==m&&!f){f=q;break a}f=void 0}l=b.substr(0,f||e);f=b.substr(f||e,b.length);f=f.substr(f.indexOf("=")+1,f.length);""===l&&(l=b,f="");e=l;l=f;if(~e.indexOf("]")){var v=e.split("[");c(v,a,"base",l)}else{if(!h.test(e)&&
g(a.base)){f={};for(v in a.base)f[v]=a.base[v];a.base=f}""!==e&&(v=a.base,f=v[e],"undefined"===typeof f?v[e]=l:g(f)?f.push(l):v[e]=[f,l])}return a},{base:{}}).base}function e(a,b,c){for(var d=0,e=a.length>>0;d<e;)d in a&&(c=b.call(void 0,c,a[d],d,a)),++d;return c}function g(a){return"[object Array]"===Object.prototype.toString.call(a)}function f(b,c){1===arguments.length&&!0===b&&(c=!0,b=void 0);b=b||window.location.toString();return{data:a(b,c||!1),attr:function(a){a=w[a]||a;return"undefined"!==
typeof a?this.data.attr[a]:this.data.attr},param:function(a){return"undefined"!==typeof a?this.data.param.query[a]:this.data.param.query},fparam:function(a){return"undefined"!==typeof a?this.data.param.fragment[a]:this.data.param.fragment},segment:function(a){if("undefined"===typeof a)return this.data.seg.path;a=0>a?this.data.seg.path.length+a:a-1;return this.data.seg.path[a]},fsegment:function(a){if("undefined"===typeof a)return this.data.seg.fragment;a=0>a?this.data.seg.fragment.length+a:a-1;return this.data.seg.fragment[a]}}}
var m={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href",embed:"src",object:"data"},q="source protocol authority userInfo user password host port relative path directory file query fragment".split(" "),w={anchor:"fragment"},x={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},
h=/^[0-9]+$/;f.jQuery=function(a){null!=a&&(a.fn.url=function(c){var d="";this.length&&(d=a(this).attr(b(this[0]))||"");return f(d,c)},a.url=f)};f.jQuery(window.jQuery);return f});
function MarkerClusterer(a,b,c){this.extend(MarkerClusterer,google.maps.OverlayView);this.map_=a;this.markers_=[];this.clusters_=[];this.sizes=[53,56,66,78,90];this.styles_=[];this.ready_=!1;c=c||{};this.gridSize_=c.gridSize||60;this.minClusterSize_=c.minimumClusterSize||2;this.maxZoom_=c.maxZoom||null;this.styles_=c.styles||[];this.imagePath_=c.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_;this.imageExtension_=c.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_;this.zoomOnClick_=!0;void 0!=c.zoomOnClick&&
(this.zoomOnClick_=c.zoomOnClick);this.averageCenter_=!1;void 0!=c.averageCenter&&(this.averageCenter_=c.averageCenter);this.setupStyles_();this.setMap(a);this.prevZoom_=this.map_.getZoom();var d=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var a=d.map_.getZoom(),b=d.map_.minZoom||0,c=Math.min(d.map_.maxZoom||100,d.map_.mapTypes[d.map_.getMapTypeId()].maxZoom),a=Math.min(Math.max(a,b),c);d.prevZoom_!=a&&(d.prevZoom_=a,d.resetViewport())});google.maps.event.addListener(this.map_,
"idle",function(){d.redraw()});b&&(b.length||Object.keys(b).length)&&this.addMarkers(b,!1)}MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m";MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png";MarkerClusterer.prototype.extend=function(a,b){return function(a){for(var b in a.prototype)this.prototype[b]=a.prototype[b];return this}.apply(a,[b])};MarkerClusterer.prototype.onAdd=function(){this.setReady_(!0)};
MarkerClusterer.prototype.draw=function(){};MarkerClusterer.prototype.setupStyles_=function(){if(!this.styles_.length)for(var a=0,b;b=this.sizes[a];a++)this.styles_.push({url:this.imagePath_+(a+1)+"."+this.imageExtension_,height:b,width:b})};MarkerClusterer.prototype.fitMapToMarkers=function(){for(var a=this.getMarkers(),b=new google.maps.LatLngBounds,c=0,d;d=a[c];c++)b.extend(d.getPosition());this.map_.fitBounds(b)};MarkerClusterer.prototype.setStyles=function(a){this.styles_=a};
MarkerClusterer.prototype.getStyles=function(){return this.styles_};MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_};MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_};MarkerClusterer.prototype.getMarkers=function(){return this.markers_};MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length};MarkerClusterer.prototype.setMaxZoom=function(a){this.maxZoom_=a};MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_};
MarkerClusterer.prototype.calculator_=function(a,b){for(var c=0,d=a.length,e=d;0!==e;)e=parseInt(e/10,10),c++;c=Math.min(c,b);return{text:d,index:c}};MarkerClusterer.prototype.setCalculator=function(a){this.calculator_=a};MarkerClusterer.prototype.getCalculator=function(){return this.calculator_};MarkerClusterer.prototype.addMarkers=function(a,b){if(a.length)for(var c=0,d;d=a[c];c++)this.pushMarkerTo_(d);else if(Object.keys(a).length)for(d in a)this.pushMarkerTo_(a[d]);b||this.redraw()};
MarkerClusterer.prototype.pushMarkerTo_=function(a){a.isAdded=!1;if(a.draggable){var b=this;google.maps.event.addListener(a,"dragend",function(){a.isAdded=!1;b.repaint()})}this.markers_.push(a)};MarkerClusterer.prototype.addMarker=function(a,b){this.pushMarkerTo_(a);b||this.redraw()};
MarkerClusterer.prototype.removeMarker_=function(a){var b=-1;if(this.markers_.indexOf)b=this.markers_.indexOf(a);else for(var c=0,d;d=this.markers_[c];c++)if(d==a){b=c;break}if(-1==b)return!1;a.setMap(null);this.markers_.splice(b,1);return!0};MarkerClusterer.prototype.removeMarker=function(a,b){var c=this.removeMarker_(a);return!b&&c?(this.resetViewport(),this.redraw(),!0):!1};
MarkerClusterer.prototype.removeMarkers=function(a,b){for(var c=!1,d=0,e;e=a[d];d++)e=this.removeMarker_(e),c=c||e;if(!b&&c)return this.resetViewport(),this.redraw(),!0};MarkerClusterer.prototype.setReady_=function(a){this.ready_||(this.ready_=a,this.createClusters_())};MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length};MarkerClusterer.prototype.getMap=function(){return this.map_};MarkerClusterer.prototype.setMap=function(a){this.map_=a};
MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_};MarkerClusterer.prototype.setGridSize=function(a){this.gridSize_=a};MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_};MarkerClusterer.prototype.setMinClusterSize=function(a){this.minClusterSize_=a};
MarkerClusterer.prototype.getExtendedBounds=function(a){var b=this.getProjection(),c=new google.maps.LatLng(a.getNorthEast().lat(),a.getNorthEast().lng()),d=new google.maps.LatLng(a.getSouthWest().lat(),a.getSouthWest().lng()),c=b.fromLatLngToDivPixel(c);c.x+=this.gridSize_;c.y-=this.gridSize_;d=b.fromLatLngToDivPixel(d);d.x-=this.gridSize_;d.y+=this.gridSize_;c=b.fromDivPixelToLatLng(c);b=b.fromDivPixelToLatLng(d);a.extend(c);a.extend(b);return a};
MarkerClusterer.prototype.isMarkerInBounds_=function(a,b){return b.contains(a.getPosition())};MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(!0);this.markers_=[]};MarkerClusterer.prototype.resetViewport=function(a){for(var b=0,c;c=this.clusters_[b];b++)c.remove();for(b=0;c=this.markers_[b];b++)c.isAdded=!1,a&&c.setMap(null);this.clusters_=[]};
MarkerClusterer.prototype.repaint=function(){var a=this.clusters_.slice();this.clusters_.length=0;this.resetViewport();this.redraw();window.setTimeout(function(){for(var b=0,c;c=a[b];b++)c.remove()},0)};MarkerClusterer.prototype.redraw=function(){this.createClusters_()};
MarkerClusterer.prototype.distanceBetweenPoints_=function(a,b){if(!a||!b)return 0;var c=(b.lat()-a.lat())*Math.PI/180,d=(b.lng()-a.lng())*Math.PI/180,c=Math.sin(c/2)*Math.sin(c/2)+Math.cos(a.lat()*Math.PI/180)*Math.cos(b.lat()*Math.PI/180)*Math.sin(d/2)*Math.sin(d/2);return 12742*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))};
MarkerClusterer.prototype.addToClosestCluster_=function(a){var b=4E4,c=null;a.getPosition();for(var d=0,e;e=this.clusters_[d];d++){var g=e.getCenter();g&&(g=this.distanceBetweenPoints_(g,a.getPosition()),g<b&&(b=g,c=e))}c&&c.isMarkerInClusterBounds(a)?c.addMarker(a):(e=new Cluster(this),e.addMarker(a),this.clusters_.push(e))};
MarkerClusterer.prototype.createClusters_=function(){if(this.ready_)for(var a=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),a=this.getExtendedBounds(a),b=0,c;c=this.markers_[b];b++)!c.isAdded&&this.isMarkerInBounds_(c,a)&&this.addToClosestCluster_(c)};
function Cluster(a){this.markerClusterer_=a;this.map_=a.getMap();this.gridSize_=a.getGridSize();this.minClusterSize_=a.getMinClusterSize();this.averageCenter_=a.isAverageCenter();this.center_=null;this.markers_=[];this.bounds_=null;this.clusterIcon_=new ClusterIcon(this,a.getStyles(),a.getGridSize())}Cluster.prototype.isMarkerAlreadyAdded=function(a){if(this.markers_.indexOf)return-1!=this.markers_.indexOf(a);for(var b=0,c;c=this.markers_[b];b++)if(c==a)return!0;return!1};
Cluster.prototype.addMarker=function(a){if(this.isMarkerAlreadyAdded(a))return!1;if(!this.center_)this.center_=a.getPosition(),this.calculateBounds_();else if(this.averageCenter_){var b=this.markers_.length+1,c=(this.center_.lat()*(b-1)+a.getPosition().lat())/b,b=(this.center_.lng()*(b-1)+a.getPosition().lng())/b;this.center_=new google.maps.LatLng(c,b);this.calculateBounds_()}a.isAdded=!0;this.markers_.push(a);c=this.markers_.length;c<this.minClusterSize_&&a.getMap()!=this.map_&&a.setMap(this.map_);
if(c==this.minClusterSize_)for(b=0;b<c;b++)this.markers_[b].setMap(null);c>=this.minClusterSize_&&a.setMap(null);this.updateIcon();return!0};Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_};Cluster.prototype.getBounds=function(){for(var a=new google.maps.LatLngBounds(this.center_,this.center_),b=this.getMarkers(),c=0,d;d=b[c];c++)a.extend(d.getPosition());return a};Cluster.prototype.remove=function(){this.clusterIcon_.remove();this.markers_.length=0;delete this.markers_};
Cluster.prototype.getSize=function(){return this.markers_.length};Cluster.prototype.getMarkers=function(){return this.markers_};Cluster.prototype.getCenter=function(){return this.center_};Cluster.prototype.calculateBounds_=function(){var a=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(a)};Cluster.prototype.isMarkerInClusterBounds=function(a){return this.bounds_.contains(a.getPosition())};Cluster.prototype.getMap=function(){return this.map_};
Cluster.prototype.updateIcon=function(){var a=this.map_.getZoom(),b=this.markerClusterer_.getMaxZoom();if(b&&a>b)for(a=0;b=this.markers_[a];a++)b.setMap(this.map_);else this.markers_.length<this.minClusterSize_?this.clusterIcon_.hide():(a=this.markerClusterer_.getStyles().length,a=this.markerClusterer_.getCalculator()(this.markers_,a),this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(a),this.clusterIcon_.show())};
function ClusterIcon(a,b,c){a.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView);this.styles_=b;this.padding_=c||0;this.cluster_=a;this.center_=null;this.map_=a.getMap();this.sums_=this.div_=null;this.visible_=!1;this.setMap(this.map_)}ClusterIcon.prototype.triggerClusterClick=function(){var a=this.cluster_.getMarkerClusterer();google.maps.event.trigger(a,"clusterclick",this.cluster_);a.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())};
ClusterIcon.prototype.onAdd=function(){this.div_=document.createElement("DIV");if(this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a);this.div_.innerHTML=this.sums_.text}this.getPanes().overlayMouseTarget.appendChild(this.div_);var b=this;google.maps.event.addDomListener(this.div_,"click",function(){b.triggerClusterClick()})};
ClusterIcon.prototype.getPosFromLatLng_=function(a){a=this.getProjection().fromLatLngToDivPixel(a);a.x-=parseInt(this.width_/2,10);a.y-=parseInt(this.height_/2,10);return a};ClusterIcon.prototype.draw=function(){if(this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.top=a.y+"px";this.div_.style.left=a.x+"px"}};ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none");this.visible_=!1};
ClusterIcon.prototype.show=function(){if(this.div_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a);this.div_.style.display=""}this.visible_=!0};ClusterIcon.prototype.remove=function(){this.setMap(null)};ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)};
ClusterIcon.prototype.setSums=function(a){this.sums_=a;this.text_=a.text;this.index_=a.index;this.div_&&(this.div_.innerHTML=a.text);this.useStyle()};ClusterIcon.prototype.useStyle=function(){var a=Math.max(0,this.sums_.index-1),a=Math.min(this.styles_.length-1,a),a=this.styles_[a];this.url_=a.url;this.height_=a.height;this.width_=a.width;this.textColor_=a.textColor;this.anchor_=a.anchor;this.textSize_=a.textSize;this.backgroundPosition_=a.backgroundPosition};
ClusterIcon.prototype.setCenter=function(a){this.center_=a};
ClusterIcon.prototype.createCss=function(a){var b=[];b.push("background-image:url("+this.url_+");");b.push("background-position:"+(this.backgroundPosition_?this.backgroundPosition_:"0 0")+";");"object"===typeof this.anchor_?("number"===typeof this.anchor_[0]&&0<this.anchor_[0]&&this.anchor_[0]<this.height_?b.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):b.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),"number"===typeof this.anchor_[1]&&
0<this.anchor_[1]&&this.anchor_[1]<this.width_?b.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):b.push("width:"+this.width_+"px; text-align:center;")):b.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");b.push("cursor:pointer; top:"+a.y+"px; left:"+a.x+"px; color:"+(this.textColor_?this.textColor_:"black")+"; position:absolute; font-size:"+(this.textSize_?this.textSize_:11)+"px; font-family:Arial,sans-serif; font-weight:bold");
return b.join("")};
